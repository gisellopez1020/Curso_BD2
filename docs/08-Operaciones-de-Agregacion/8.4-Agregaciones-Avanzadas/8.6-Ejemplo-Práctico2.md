# Ejemplo pr치ctico 2

Consultar cu치ntos empleados hay por sexo, cu치l es el promedio de sus salarios y el de la edad para cada grupo. 

## _**Etapa 1: Agrupaci칩n de los documentos con $group**_ 

Agrupar los documentos de la colecci칩n empleados a trav칠s del campo sexo. 

Realizar los c치lculos requeridos: 

- **`cantidad:`** Suma cada una de las instancias de los documentos empleados por grupo. promedioSalario: Calcula el promedio de los salarios mediante los especificados en las vinculaciones. 

- **`promedioEdad:`** Permite realizar el c치lculo del promedio de las edades de los empleados. 

 ![Etapa 1 - Ejemplo Pr치ctico 2](../../../imgs/etapa1-ejemplo2.png)

  _**Figura 38: Etapa 1 - Ejemplo Pr치ctico 2**_ 


## _**Soluci칩n 칍ptima**_

En la siguiente figura se presenta una soluci칩n 칩ptima que evita el reprocesar informaci칩n al utilizar el operador _**$avg**_ dentro del operador _**$group**_. La soluci칩n planteada utiliza menos recursos de memoria, ya que permite realizar c치lculos de manera separada (es decir, suma los valores y luego los divide para obtener los respectivos promedios). Este tipo de enfoque de soluci칩n es eficiente cuando se desean procesar grandes vol칰menes de datos, ya que ayuda a reducir el procesamiento innecesario y mejorar la utilizaci칩n de los recursos. Adem치s, ofrece una soluci칩n clara, eficiente y f치cil de entender, lo que contribuye tanto al rendimiento de la consulta como a la legibilidad del script. 

 ![Figura 39: Soluci칩n 칍ptima - Ejemplo Pr치ctico 2](../../../imgs/solucion-optima.png)

  _**Figura 39: Soluci칩n 칍ptima - Ejemplo Pr치ctico 2**_ 

> 游댚 **Contin칰a a la [siguiente secci칩n](/docs/09-Manejo-de-Indices/9.1-Manejo-de-Indices.md)**
